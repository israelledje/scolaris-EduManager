<div id="guardians-container">
  <!-- Header de la section -->
  <div class="flex items-center justify-between mb-6">
    <div>
      <h3 class="text-xl font-bold text-slate-900">Famille et contacts</h3>
      <p class="text-slate-600 text-sm mt-1">Gestion des parents, tuteurs et contacts d'urgence</p>
    </div>
    <button onclick="openGuardianModal()" 
            class="flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-blue-600 to-indigo-600 text-white rounded-xl hover:from-blue-700 hover:to-indigo-700 transition-all duration-200 shadow-lg hover:shadow-xl">
      <i class="fas fa-plus"></i>
      <span class="font-medium">Ajouter un parent</span>
    </button>
  </div>

  <!-- Liste des guardians -->
  {% if guardians %}
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
      {% for guardian in guardians %}
      <div class="bg-white rounded-2xl shadow-sm border border-slate-200/60 p-6 hover:shadow-md transition-all duration-200">
        <!-- Header de la carte -->
        <div class="flex items-start justify-between mb-4">
          <div class="flex items-center gap-3">
            <div class="w-12 h-12 bg-gradient-to-br from-blue-500 to-indigo-500 rounded-xl flex items-center justify-center">
              <i class="fas fa-user text-white text-lg"></i>
            </div>
            <div>
              <h4 class="font-semibold text-slate-900">{{ guardian.name }}</h4>
              <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800">
                {{ guardian.relation }}
              </span>
            </div>
          </div>
          
          <!-- Actions -->
          <div class="flex items-center gap-1">
            <button onclick="editGuardian({{ guardian.id }})" 
                    class="p-2 text-slate-400 hover:text-amber-600 hover:bg-amber-50 rounded-lg transition-all duration-200" 
                    title="Modifier">
              <i class="fas fa-edit"></i>
            </button>
            <button onclick="deleteGuardian({{ guardian.id }})" 
                    class="p-2 text-slate-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-all duration-200" 
                    title="Supprimer">
              <i class="fas fa-trash"></i>
            </button>
          </div>
        </div>

        <!-- Informations de contact -->
        <div class="space-y-3">
          {% if guardian.phone %}
          <div class="flex items-center gap-2 text-sm text-slate-600">
            <i class="fas fa-phone text-blue-500 w-4"></i>
            <span>{{ guardian.phone }}</span>
          </div>
          {% endif %}
          
          {% if guardian.email %}
          <div class="flex items-center gap-2 text-sm text-slate-600">
            <i class="fas fa-envelope text-blue-500 w-4"></i>
            <span>{{ guardian.email }}</span>
          </div>
          {% endif %}
          
          {% if guardian.profession %}
          <div class="flex items-center gap-2 text-sm text-slate-600">
            <i class="fas fa-briefcase text-blue-500 w-4"></i>
            <span>{{ guardian.profession }}</span>
          </div>
          {% endif %}
        </div>

        <!-- Badge contact d'urgence -->
        {% if guardian.is_emergency_contact %}
        <div class="mt-4 pt-4 border-t border-slate-100">
          <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800">
            <i class="fas fa-exclamation-triangle mr-1"></i>
            Contact d'urgence
          </span>
        </div>
        {% endif %}
      </div>
      {% endfor %}
    </div>
  {% else %}
    <!-- État vide -->
    <div class="text-center py-12">
      <div class="w-24 h-24 bg-slate-100 rounded-full flex items-center justify-center mx-auto mb-4">
        <i class="fas fa-users text-3xl text-slate-400"></i>
      </div>
      <h3 class="text-lg font-semibold text-slate-900 mb-2">Aucun parent enregistré</h3>
      <p class="text-slate-500 text-sm mb-6">
        Commencez par ajouter les informations des parents ou tuteurs de cet élève
      </p>
      <button onclick="openGuardianModal()" 
              class="px-6 py-3 bg-gradient-to-r from-blue-600 to-indigo-600 text-white rounded-xl hover:from-blue-700 hover:to-indigo-700 transition-all duration-200 shadow-lg hover:shadow-xl">
        <i class="fas fa-plus mr-2"></i>
        Ajouter le premier parent
      </button>
    </div>
  {% endif %}
</div>
